# Testing Report

`test/submission_test.py`: contains all tests for all 3 parts. All tests follow the provided test framework with two major modifications:
1. Before starting each test, the test function will firstly remove persistent data generated by previous test. Since my implementation save persistent states in json format that are storaged in a local folder `./data`. They need to be cleared before a new test starts because otherwise, persistent states from pervious test will be reloaded and possibly cause failures.
2. Election timeout is changed to 0.3s in order to test the performance of my implementation of RRMQ on 300ms level.

`test/election_test.py`: contains all tests for Leader Election with abovementioned two modifications.

`test/replication_test.py`: contains all tests for Log Replication with abovementioned two modifications.

`test/message_queue_test.py`: contains all tests for single-node MQ with abovementioned two modifications.

## Message Queue
The testing consists of two main components:
1. Topic tests:
    * testing on getting topic from empty MQ
    * testing on creating a new topic
    * testing on creating two different topics
    * testing on creating the same topic twice
    * testing on getting a topic
    * testing on getting the same topic
    * testing on getting multiple topics
    * testing on getting multiple topics with duplicates

2. Message tests:
    * testing on getting message from a non-existing topic
    * testing on getting message
    * testing on putting new message
    * testing on putting new message and getting this message
    * testing on putting A number of messages and getting B number of messages where A > B
    * testing on putting A number of messages and getting B number of messages where A = B
    * testing on putting A number of messages and getting B number of messages where A < B

## Leader Election
* testing on getting correct status message
* testing on whether the only node in a single-node cluster becomes the leader
* testing on whether the only node in a single-node cluster re-becomes the leader after it's down
* testing on whether a cluster of 5 nodes can elect a leader
* testing on whether a cluster of 5 nodes elects one and only one leader
* testing on whether a cluster of 5 nodes re-elects a new leader after the old leader is down

## Log Replication
* testing on whether a newly added topic is shared with/replicated to followers after the old leader is down
* testing on whether a newly added message is shared with/replicated to followers after the old leader is down